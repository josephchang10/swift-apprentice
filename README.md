更新到 iOS 10，Xcode 8 和 Swift 3

# Swift 初学者
用 Swift 3 开始编程

## 介绍
欢迎来到《Swift 初学者》，这是纯为 Swift 3 而写的！

自从 2014 年发布以来，Swift 已经跨越了两个主要的版本，已经成为给 Apple 开发软件最简单的方式：iOS，macOS，watchOS 和 tvOS。Swift 在 2015 年末完全开源，目前已经开始传播到其它平台，比如 Linux。

Swift 对于编程新手来说是一个绝佳的选择，因为 Xcode 提供了一个沙盒类型的环境，在里面你可以直接执行 Swift 语句来尝试这门语言的多种组件——而不需要先创建一整个 app。

尽管 Swift 对于学习编程来说是一门绝佳的语言，但它也是一门工业级别的语言，全世界的开发者用它来构建数以千计令人惊叹的 app，基于 iPhone、iPad、Mac、Apple TV 和 Apple Watch。这意味着你在这本书里学到的东西，以后不论是扩展开发技能还是成为一个 app 开发者，都是很有用处的。

你会学习基础的知识，比如常量、值和类型，然后移步到更复杂的东西比如数据结构、类和枚举，最后以一些深入知识结束，关于协议扩展、自定义操作符和面向协议编程，有很多主题对于其它编程语言也是通用的，还有一些是 Swift 用很新颖的方式推出的。

Swift 也很好玩！很简单的就可以尝试一小段代码，摆弄几个不同的变量，来测试你的新创意。编程是一个需要实际上手的体验，Swift 让一切都变得更快、更简单，不论是对于学习本书，还是探索自己的代码。

### 这本书写给谁

如果你是完全的编程新手，这本书就是为你准备的！贯穿本书有短的测试和挑战，给你一些编程练习，一边看一边测试知识点。

### 你需要什么

要跟上本书，需要如下东西：
* **一台运行 OS X El Capitan (10.11) 的 Mac**，更新到最新并且安装了安全补丁。这样你才能安装需要的开发工具的最新版：Xcode。
* **Xcode 8 或更新的版本。**Xcode 是用 Swift 写代码的主要开发工具。至少需要 Xcode 8，因为这个版本包含 Swift 3。你可以免费从 Mac App Store 下载最新版本的 Xcode，这里：[ apple.co/1FLn51R ]()。

如果你还没有安装最新版本的 Xcode，确保继续看本书之前安装好。本书包含的代码基于 Swift 3 和 Xcode 8——如果你用的是老版本，你很快就会迷失的。

### 如何使用本书

本书的每一章展示了当前主题的一些理论，伴随着许多 Swift 代码，来示范你正在学习的知识的实际应用。

因为这是一本给新手的书，我们建议在第一次按顺序阅读。然后，本书会成为一个绝佳的参考，在你想刷新关于特定主题的记忆的时候。

本书里的所有代码是平台中立的；意味着不是特定为 iOS、macOS 或任意其它的平台。代码运行在 **playground**，你会在刚开始那一章学到。

在你阅读本书的时候，你可以跟随然后把代码打到自己的 playground 里。这表示你能够对代码做一些修改，然后立即看到结果。

贯穿本书你会发现**迷你测试**，是关于当前主题的简短测试。每章的结尾也有**挑战**，是编程问题或更长的代码测试来考验你的知识。

如果你跟着做这些测试和挑战，你会掌握本书的绝大部分。

### 书里有什么

本书被分为四个部分。每个部分有一个简短的介绍，描述了它的章节、主题和这个部分的首要主题。
这是本书的部分的简述：

#### 第一部分：Swift 基础

本书的第一部分从计算环境的最基础部分开始：首先是，计算机如何工作，然后，Swift 的 playground 功能怎么用作。这些后勤工作结束后，你会学习 Swift 语言基础，学习管理数据、结构化代码、用简单的操作和计算、使用类型的基础。

#### 第二部分：集合类型

存储数据对于任何 app 来说都是核心组件，不论是社交网络 app 里好友列表，还是跑酷游戏里的一组未解锁人物。在这个部分，你会学习在 Swift 里如何存储数据集合。

#### 第三部分：建立你自己的类型

Swift 有基本的模块，但它真正强大的是自定义，可以构建你的 app 里的模型部分。举个例子，Swift 不知道角色、怪兽和能量——这些需要你自己构建！你会在这个部分学习怎么做。

#### 第四部分：高级主题

本书的最后一个部分包含了 Swift 里更高级的主题。你会学习特定知识，比如如何处理代码运行时出现的问题，以及一些更常用的知识，比如内存管理，会帮助你理解一些 Swift 的幕后机制。

# 第一部分：Swift 基础

这个部分的章节会为你介绍 Swift 编程中非常基础的部分。从电脑如何工作的原理到语言结构，你会足够了解语言，能够使用数据并且管理代码的行为。

这部分从一些基础工作开始：

* **第一章，代码本质 & Playground 基础**：这就是到编程世界的闪电式介绍！你会从电脑和编程的概览开始，然后给 Swift playground 打个招呼，这是你将要在本书剩下的时间里写代码的地方。

然后，你会学习 Swift 里的数据基础：

* **第二章，表达式，变量和常量**：你会从学习一些基础开始，比如代码注释、算术操作、常量和变量。这对于任何语言来说都是基本模块，Swift 也一样。
* **第三章，类型 & 操作**：你会学习处理不同的类型，包括允许你表示文本的字符串。你会学习类型间的转换，你也会被介绍到类型推断，它可以让你的程序猿生涯更轻松一些。你会学习元组，允许你创建自己的类型，由多个任意类型的值组成。

脑海里有了基础数据类型之后，是时候用这些数据*做*些事情了：

* **第四章，基本控制流程**：你会学习如何做判断，在程序里重复任务，通过使用语法来控制流程。你也会学习**布尔型**，表示 true 或 false 值，以及如何使用它来比较数据。
* **第五章，重复步骤**：代码不总是在直线上运行，你会学习另一个叫做 for 循环的循环。你也会学习 switch 语句，在 Swift 里特别强大。
* **第六章，函数**：函数是 Swift 里用来结构化代码的基本模块。你会学习如何定义函数，把代码分组成为可复用单元。

这部分的最后一章讲了一个很重要的数据类型：

* **第七章，可选值**：这张包含可选值，Swift 里的一个特殊类型，既可以表示一个真实的值，也可以表示值的缺失。这章的最后，你会知道为什么需要可选，以及如何安全的使用它们。

这些基础会让你迅速（Swiftly）上路，也会做好准备迎接后面更高级的主题。开始吧！

# 第一章：代码本质 & Playground 基础

欢迎来到本书！在最开始的一章里，你要学习一些基础。先学习代码如何工作。然后学习用来写 Swift 代码的工具。

## 电脑如何工作

你可能不太相信，但电脑本身并不聪明。电脑的强大全都仰仗像你我这样的人，用编程来驱动。如果你想成功利用电脑的强大——我猜你也想，如果你都这本书了——理解电脑是如何工作的就非常重要了。

你也可能会感到惊讶，电脑本身只是简单的机器。电脑的核心是**中央处理单元（CPU）**。它本质上就是数学机器。它对数字执行加、减以及其它算术操作。操作电脑的时候，你看到的一切都基于 CPU 每秒处理数百万次数字。只有数字，是不是很神奇？

CPU 把它操作的数字存在小的记忆单元中，叫做**寄存器**。CPU 可以从电脑的主储存器中读取数字到寄存器里，主储存器叫做**随机存取存储器（RAM）**。也能把寄存器里存储的数字写回 RAM。这允许 CPU 处理大量数组，而不会挤满寄存器。

这是它如何工作的示意图：

CPU 把值从 RAM 拉到它的寄存器里后，在数学单元里使用这些值，然后把结果存到另一个寄存器里。

每次 CPU 做加、减，一次从 RAM 的读取或写入，都在执行一条单独的**指令**。每个计算机程序通常由数千条指令组成。一个复杂的计算机程序，比如你的操作系统，macOS（是的，这也是一个计算机程序！），总共可能有数百万条指令。

写单独的指令来告诉电脑怎么做是完全可以的，但即使对于最简单的程序，这也会极其浪费时间、单调乏味。这是因为计算机程序的目标是做远比简单数学更多的事情——计算机程序让你浏览英特网，处理图像，和朋友聊天。

不是写单独的指令，而是用一门特定的**编程语言**写**代码**，当前情况里就是 Swift。这些代码放进一个叫做**编译器**的计算机程序里，它把代码转换为CPU知道如何执行的指令。你写的每行代码都会变成许多条指令——有些行可能最后变成数十行指令！

### 数字表示

你现在知道了，数字是计算机的粮草，它做所有事的根本基础。不论你发送给编译器什么信息，最后都会变成数字。例如，每段文字的每个字符都是由一个数字表示的。你会在第三章里学到更多相关内容，在那里会挖掘类型，包括**字符串**，对于一段文字的计算机术语。

图片也不是例外。在电脑里，每个图片也是由一系列数字表示的。一张图片被分为数千，甚至数百万**像素**，每个像素都是纯色。如果你离近看电脑屏幕，就能看到这些小方块了。除非你有一台特别高分辨率的显示器，每个像素都难以置信的小！每个纯色像素通常由三个数字表示：红色含量，绿色含量和蓝色含量。例如，全红像素就是 100% 红，0% 绿 和 0% 蓝色。

CPU 用的数字和你过去用的区别很大。日常生活里用的数字，是**十进制**。已经使用这个数字系统这么久了，仅凭直觉你也能理解它如何运作。让我们从 CPU 的视角，看看十进制是如何工作的。

十进制数字 **423** 包含**三个1，两个10和四个100**：

在十进制，数字的每一位可以是 0, 1, 2, 3, 4, 5, 6, 7, 8 或 9，每一位总共有 10 种可能的值。是的，这就是它为什么叫十进制！

但每一位实际的值要根据它在数字里的位置来决定。从右边到左边，每一位都增加 10 倍。所以最右端的乘数是 10 的 0 次方，也就是 1。往左移，下一个乘数是 10 的 1 次方，也就是 10。再往左移，下一个乘数是 10 的 2 次方，也就是 100。以此类推。

这意味着每一位的值是它右边的十倍。数字 **423** 等于：

`(0 * 1000) + (4 * 100) + (2 * 10) + (3 * 1) = 423`

#### 二进制数字

因为你已经被训练使用十进制，就不需要思考怎么阅读大部分数字了——感觉相当自然。

